<!DOCTYPE Html>
<html style="width:100%;height:100%;">
<head>
<title>Module 7</title>
<script src="https://code.jquery.com/jquery-2.2.3.min.js" integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo=" crossorigin="anonymous"></script>
</head>
<body style="width:100%;height:100%;margin:0;">
<svg id="svgele" height="100%" width="100%">


</svg>
<script type="text/javascript">
    function drawCircle(){
        max_so_far = -1;
        max_fir = [];
        max_sec = [];
        if (points.length > 1){
            for(var cod in points){
                tmp = parseInt(cod)+1;
                for(tmp; tmp<points.length;tmp++){
                    console.log(points[tmp]+" and "+ points[cod]);
                    var dx = points[cod][0]-points[tmp][0];
                    var dy = points[cod][1]-points[tmp][1];
                    rad = Math.sqrt(((dx*dx)+(dy*dy)))/2
                    if (rad>max_so_far){
                        max_fir = points[cod];
                        max_sec = points[tmp];
                        max_so_far = rad;
                    }
                }
            }
            var cx = (max_fir[0]+max_sec[0])/2;
            var cy = (max_fir[1]+max_sec[1])/2;
            rad = max_so_far;
            console.log(cx, cy, rad, max_so_far, max_fir, max_sec);
        }
        else{
            cx = points[0][0];
            cy = points[0][1];
            rad = 15; 
            console.log(cx, cy, rad, max_so_far, max_fir, max_sec);
        }
        $("#circle").remove();
        sv.innerHTML += '<circle id="circle" cx="'+cx+'" cy="'+cy+'" r="'+rad+'" fill-opacity="0.1" />';
    
    }
    var points = [];
    var sv = document.getElementById('svgele');
    $(sv).on("click", function(e){
        temparr = [e.pageX, e.pageY];
        console.log(sv.innerHTML);
        
        if($('#cir'+e.pageX+e.pageY).length){$('#cir'+e.pageX+e.pageY).remove()}
        else{
        points.push(temparr);
        sv.innerHTML += '<circle id="cir'+e.pageX+e.pageY+'" cx="'+e.pageX+'" cy="'+e.pageY+'" r="9" fill="black" />';
        }
        drawCircle();
});
</script>
</body>
</html>
